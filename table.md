í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ë“¤ì„ ì„¤ëª…í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.



## ğŸ“Š í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ì»¬ëŸ¼ ì„¤ëª…



### **votes í…Œì´ë¸”** (íˆ¬í‘œ)

- `id` - íˆ¬í‘œ ê³ ìœ  ID (bigint)

- `title` - íˆ¬í‘œ ì œëª© (varchar)

- `content` - íˆ¬í‘œ ë‚´ìš©/ì„¤ëª… (text)

- `options` - íˆ¬í‘œ ì„ íƒì§€ë“¤ (jsonb ë°°ì—´)

- `vote_count` - ì´ íˆ¬í‘œ ìˆ˜ (integer, ê¸°ë³¸ê°’: 0)

- `status` - íˆ¬í‘œ ìƒíƒœ (vote_status enum: active ë“±)

- `expires_at` - íˆ¬í‘œ ì¢…ë£Œ ì‹œê°„ (timestamp)

- `creator_id` - íˆ¬í‘œ ìƒì„±ì ID (uuid)

- `created_at` - ìƒì„± ì‹œê°„ (timestamp)



### **users í…Œì´ë¸”** (ì‚¬ìš©ì)

- `id` - ì‚¬ìš©ì ê³ ìœ  ID (uuid)

- `device_id` - ë””ë°”ì´ìŠ¤ ì‹ë³„ì (text)

- `created_at` - ê³„ì • ìƒì„± ì‹œê°„ (timestamp)



### **reports í…Œì´ë¸”** (ì‹ ê³ )

- `id` - ì‹ ê³  ê³ ìœ  ID (uuid)

- `vote_id` - ì‹ ê³ ëœ íˆ¬í‘œ ID (bigint)

- `reporter_id` - ì‹ ê³ ì ID (uuid, nullable)

- `created_at` - ì‹ ê³  ì‹œê°„ (timestamp)



### **hidden_votes í…Œì´ë¸”** (ìˆ¨ê¸´ íˆ¬í‘œ)

- `id` - ë ˆì½”ë“œ ê³ ìœ  ID (uuid)

- `user_id` - ì‚¬ìš©ì ID (uuid)

- `vote_id` - ìˆ¨ê¸´ íˆ¬í‘œ ID (bigint)

- `hidden_at` - ìˆ¨ê¸´ ì‹œê°„ (timestamp)



### **privacy_policies í…Œì´ë¸”** (ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨)

- `id` - ì •ì±… ê³ ìœ  ID (uuid)

- `content` - ì •ì±… ë‚´ìš© (text)

- `created_at` - ìƒì„± ì‹œê°„ (timestamp). ë‘ ì»¬ëŸ¼ì˜ êµ¬ì¡°ì™€ ì‚¬ìš©ë²•ì„ ìì„¸íˆ ì„¤ëª…í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.



## ğŸ“‹ **options ì»¬ëŸ¼** (jsonb ë°°ì—´)



íˆ¬í‘œ ì„ íƒì§€ë“¤ì„ JSON ë°°ì—´ í˜•íƒœë¡œ ì €ì¥í•©ë‹ˆë‹¤.



### êµ¬ì¡° ì˜ˆì‹œ:

```json

[

Â  {

Â  Â  "id": 1,

Â  Â  "name": "ì°¬ì„±",

Â  Â  "vote_count": 45,

Â  Â  "color": "#10b981"

Â  },

Â  {

Â  Â  "id": 2,Â 

Â  Â  "name": "ë°˜ëŒ€",

Â  Â  "vote_count": 23,

Â  Â  "color": "#ef4444"

Â  }

]

```



### ê° ì„ íƒì§€ ê°ì²´ ì†ì„±:

- `id` - ì„ íƒì§€ ê³ ìœ  ë²ˆí˜¸

- `name` - ì„ íƒì§€ ì´ë¦„/í…ìŠ¤íŠ¸

- `vote_count` - í•´ë‹¹ ì„ íƒì§€ íˆ¬í‘œ ìˆ˜

- `color` - ê·¸ë˜í”„ í‘œì‹œìš© ìƒ‰ìƒ ì½”ë“œ



## ğŸ”„ **status ì»¬ëŸ¼** (vote_status enum)



íˆ¬í‘œì˜ í˜„ì¬ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì—´ê±°í˜•ì…ë‹ˆë‹¤.



### ê°€ëŠ¥í•œ ìƒíƒœê°’:

- `active` - í™œì„± ìƒíƒœ (íˆ¬í‘œ ì§„í–‰ ì¤‘)

- `ended` - ì¢…ë£Œëœ ìƒíƒœ (ì‹œê°„ ë§Œë£Œ)

- `early_ended` - ì¡°ê¸° ì¢…ë£Œëœ ìƒíƒœ (ìˆ˜ë™ ì¢…ë£Œ)



### ì‚¬ìš© ì˜ˆì‹œ:

```sql

-- í™œì„± íˆ¬í‘œë§Œ ì¡°íšŒ

SELECT * FROM votes WHERE status = 'active';



-- ì¢…ë£Œëœ íˆ¬í‘œ ì¡°íšŒÂ Â 

SELECT * FROM votes WHERE status IN ('ended', 'early_ended');

```



ì´ êµ¬ì¡°ë¥¼ í†µí•´ ìœ ì—°í•œ íˆ¬í‘œ ì˜µì…˜ ê´€ë¦¬ì™€ ìƒíƒœ ì¶”ì ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.